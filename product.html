<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Premium Menswear and Streetwear | Cmarine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Stili personalizzati di base */
        .hero-image {
            background-image: url('https://cdn.havenshop.com/24e09d69ae24a65dc6fc8ef7f29761f9a404cb6e-2048x2560.jpg');
            background-size: cover;
            background-position: center;
        }

        .product-card:hover .product-overlay {
            opacity: 1;
        }

        .product-overlay {
            transition: opacity 0.3s ease;
            opacity: 0;
        }

        .category-card:hover img {
            transform: scale(1.05);
        }

        .category-card img {
            transition: transform 0.3s ease;
        }

        .newsletter-input {
            border-bottom: 1px solid #000;
            transition: border-color 0.3s ease;
        }

        .newsletter-input:focus {
            outline: none;
            border-bottom-color: #555;
        }

        /* Stili specifici per il menu mobile */
        .mobile-menu {
            display: none;
        }

        .mobile-menu.open {
            display: block;
        }

        /* Stili per il footer a fisarmonica */
        .footer-accordion-header {
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 1rem;
            /* Spazio sotto il titolo */
            border-bottom: 1px solid #e5e7eb;
            /* Linea separatrice */
            margin-bottom: 1rem;
            /* Spazio sotto la linea */
        }

        /* Nasconde le liste di link per impostazione predefinita */
        .footer-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            opacity: 0;
        }

        /* Mostra le liste di link quando la classe 'open' è presente */
        .footer-accordion-content.open {
            max-height: 200px;
            /* Un valore sufficientemente grande per contenere il contenuto */
            opacity: 1;
            transition: max-height 0.5s ease-in, opacity 0.3s ease-in;
        }

        /* Ruota l'icona freccia quando la sezione è aperta */
        .footer-accordion-header .arrow-icon {
            transition: transform 0.3s ease;
        }

        .footer-accordion-header.open .arrow-icon {
            transform: rotate(180deg);
        }

        /* Rimuovi la border-bottom e i margini per desktop, mantenendo il layout originale */
        @media (min-width: 768px) {
            .footer-accordion-header {
                cursor: default;
                /* Non cliccabile su desktop */
                border-bottom: none;
                margin-bottom: 1rem;
                /* Mantieni il margine se desiderato */
            }

            .footer-accordion-header .arrow-icon {
                display: none;
                /* Nascondi la freccia su desktop */
            }

            .footer-accordion-content {
                max-height: none;
                /* Sempre visibile su desktop */
                opacity: 1;
            }
        }
    </style>
</head>

<body class="bg-gray-50">
    <header class="sticky top-0 z-50 bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center">
                <a href="index.html" class="flex items-center no-underline hover:no-underline">
                    <span class="text-3xl font-bold text-red-600">C</span>
                    <span class="text-3xl font-bold text-blue-800">marine</span>
                </a>
            </div>

            <div class="hidden md:flex space-x-8">
                <a href="shop.html" class="text-sm uppercase hover:text-gray-600">Shop</a>
                <a href="collections.html" class="text-sm uppercase hover:text-gray-600">Collections</a>
                <a href="features.html" class="text-sm uppercase hover:text-gray-600">Features</a>
            </div>

            <div class="flex items-center space-x-4 md:space-x-6">
                <a href="#" class="text-xl"><i class="fas fa-search"></i></a>
                <a href="login.html" class="text-xl"><i class="far fa-user"></i></a>
                <a href="cart.html" class="text-xl"><i class="fas fa-shopping-bag"></i></a>

                <div class="md:hidden">
                    <button id="mobile-menu-button" class="focus:outline-none">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="mobile-menu md:hidden bg-white py-2 shadow-lg">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="shop.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-900 hover:bg-gray-100">Shop</a>
                <a href="collections.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-900 hover:bg-gray-100">Collections</a>
                <a href="features.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-900 hover:bg-gray-100">Features</a>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/2">
                <img id="main-image" src="" alt="" class="w-full h-auto object-cover mb-4">
                <div id="thumbnail-container" class="grid grid-cols-4 gap-2">
                    </div>
            </div>

            <div class="md:w-1/2">
                <span id="product-brand" class="text-sm uppercase tracking-widest text-gray-600"></span>
                <h1 id="product-name" class="text-3xl font-bold mt-2 mb-4"></h1>
                <p id="product-price" class="text-2xl font-semibold mb-6"></p>

                <div class="mb-6">
                    <h3 class="text-sm font-semibold mb-2">SIZE</h3>
                    <div id="size-options" class="flex flex-wrap gap-2">
                        </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-sm font-semibold mb-2">QUANTITY</h3>
                    <input type="number" value="1" min="1" class="w-20 px-3 py-2 border border-gray-300 rounded-md text-center">
                </div>

                <button class="w-full bg-black text-white px-8 py-4 text-lg uppercase tracking-wider hover:bg-gray-800 transition duration-300 rounded-sm">Add to Cart</button>

                <div class="mt-8 border-t border-gray-200 pt-8">
                    <h3 class="text-lg font-bold mb-3">Description</h3>
                    <p id="product-description" class="text-gray-700 leading-relaxed"></p>
                    <ul id="product-details" class="list-disc list-inside text-gray-700 mt-4">
                        </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-gray-50 py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold mb-8 text-center">You might also like</h2>
            <div id="related-products-container" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                </div>
        </div>
    </div>

    <div class="bg-black text-white py-16 md:py-20">
        <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="mb-2 text-sm uppercase tracking-widest">FREE SHIPPING ON YOUR FIRST ORDER</div>
            <h2 class="text-3xl md:text-4xl font-bold mb-6">Join Our Newsletter</h2>
            <p class="mb-8 text-gray-300 leading-relaxed">Subscribe for early access to launches, promos, and events.</p>
            <form class="flex flex-col sm:flex-row gap-4 justify-center">
                <input type="email" placeholder="Your email address" class="newsletter-input bg-transparent py-3 px-4 text-white placeholder-gray-400 focus:placeholder-gray-600 w-full sm:w-80 rounded-none border-b border-gray-500 focus:border-white transition duration-300 ease-in-out">
                <button type="submit" class="bg-white text-black px-8 py-3 text-sm uppercase tracking-wider hover:bg-gray-200 transition duration-300 ease-in-out rounded-sm">Subscribe</button>
            </form>
        </div>
    </div>
    <footer class="bg-gray-100 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center md:text-left">
                <div class="footer-accordion">
                    <div class="footer-accordion-header md:mb-4">
                        <h3 class="text-sm font-semibold uppercase tracking-wider">Shop</h3>
                        <i class="fas fa-chevron-down arrow-icon text-gray-500 md:hidden"></i>
                    </div>
                    <ul class="space-y-2 footer-accordion-content">
                        <li><a href="shop.html" class="text-sm hover:underline text-gray-700">New Arrivals</a></li>
                        <li><a href="collections.html" class="text-sm hover:underline text-gray-700">Collections</a></li>
                        <li><a href="shop.html" class="text-sm hover:underline text-gray-700">Sale</a></li>
                        <li><a href="#" class="text-sm hover:underline text-gray-700">Gift Cards</a></li>
                    </ul>
                </div>
                <div class="footer-accordion">
                    <div class="footer-accordion-header md:mb-4">
                        <h3 class="text-sm font-semibold uppercase tracking-wider">About</h3>
                        <i class="fas fa-chevron-down arrow-icon text-gray-500 md:hidden"></i>
                    </div>
                    <ul class="space-y-2 footer-accordion-content">
                        <li><a href="#" class="text-sm hover:underline text-gray-700">Our Story</a></li>
                        <li><a href="features.html" class="text-sm hover:underline text-gray-700">Features</a></li>
                        <li><a href="#" class="text-sm hover:underline text-gray-700">Stockists</a></li>
                    </ul>
                </div>
                <div class="footer-accordion">
                    <div class="footer-accordion-header md:mb-4">
                        <h3 class="text-sm font-semibold uppercase tracking-wider">Help</h3>
                        <i class="fas fa-chevron-down arrow-icon text-gray-500 md:hidden"></i>
                    </div>
                    <ul class="space-y-2 footer-accordion-content">
                        <li><a href="contact.html" class="text-sm hover:underline text-gray-700">Contact Us</a></li>
                        <li><a href="#" class="text-sm hover:underline text-gray-700">Shipping</a></li>
                        <li><a href="#" class="text-sm hover:underline text-gray-700">Returns</a></li>
                        <li><a href="#" class="text-sm hover:underline text-gray-700">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-semibold uppercase tracking-wider mb-4">Connect</h3>
                    <div class="flex justify-center md:justify-start space-x-4 mb-4">
                        <a href="#" class="text-gray-700 hover:text-gray-900"><i class="fab fa-instagram text-xl"></i></a>
                        <a href="#" class="text-gray-700 hover:text-gray-900"><i class="fab fa-twitter text-xl"></i></a>
                        <a href="#" class="text-gray-700 hover:text-gray-900"><i class="fab fa-facebook-f text-xl"></i></a>
                    </div>
                    <p class="text-sm text-gray-600 leading-relaxed">Sign up for our newsletter to receive updates on new arrivals, special offers and other discount information.</p>
                </div>
            </div>
            <div class="border-t border-gray-200 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center text-gray-600">
                <p class="text-sm text-center md:text-left mb-4 md:mb-0">© 2025 Cmarine. All rights reserved.</p>
                <div class="flex flex-wrap justify-center md:justify-end space-x-4 sm:space-x-6">
                    <a href="#" class="text-sm hover:underline">Privacy Policy</a>
                    <a href="#" class="text-sm hover:underline">Terms of Service</a>
                    <a href="#" class="text-sm hover:underline">Accessibility</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Script per il menu mobile
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('open');
                });
            }

            // Script per il footer a fisarmonica
            const accordionHeaders = document.querySelectorAll('.footer-accordion-header');
            accordionHeaders.forEach(header => {
                const accordionContent = header.nextElementSibling;
                if (window.innerWidth < 768) {
                    header.addEventListener('click', () => {
                        header.classList.toggle('open');
                        accordionContent.classList.toggle('open');
                    });
                }
            });

            window.addEventListener('resize', () => {
                accordionHeaders.forEach(header => {
                    const accordionContent = header.nextElementSibling;
                    if (window.innerWidth >= 768) {
                        header.classList.remove('open');
                        accordionContent.classList.remove('open');
                    }
                });
            });

            // --- Logica della Pagina Prodotto Dinamica ---

            // Dati dei prodotti in un oggetto JavaScript
            const products = {
                "1": {
                    id: "1",
                    brand: "New Balance",
                    name: "1906L Raincloud/Slate Grey",
                    price: "$220.00",
                    description: "The 1906L Raincloud/Slate Grey from New Balance is a sophisticated take on a classic silhouette. Crafted with premium materials, it offers superior comfort and style. Featuring a durable upper and responsive cushioning, it's perfect for everyday wear.",
                    details: [
                        "Premium suede and mesh upper",
                        "ABZORB cushioning for superior comfort",
                        "NDurance rubber outsole for durability",
                        "Reflective detailing"
                    ],
                    images: [
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/New-Balance-U1906-LGR-1.jpg?v=1748535639&width=800&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/New-Balance-U1906-LGR-2.jpg?v=1748535639&width=200&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/New-Balance-U1906-LGR-3.jpg?v=1748535639&width=200&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/New-Balance-U1906-LGR-4.jpg?v=1748535639&width=200&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/New-Balance-U1906-LGR-5.jpg?v=1748535639&width=200&crop=center"
                    ],
                    sizes: ["US 7", "US 8", "US 9", "US 10", "US 11"]
                },
                "2": {
                    id: "2",
                    brand: "HAVEN",
                    name: "Tapered Track Pant",
                    price: "$260.00",
                    description: "The HAVEN Tapered Track Pant is made from a high-quality Re-Cotton fabric, offering both comfort and a stylish tapered fit.",
                    details: [
                        "Re-Cotton fabric",
                        "Tapered fit",
                        "Elastic waistband with drawstring",
                        "Zipped pockets"
                    ],
                    images: [
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/HAVEN-Tapered-Track-Pant-Re-Cotton-Olive-1.jpg?v=1748536100&width=800&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/HAVEN-Tapered-Track-Pant-Re-Cotton-Olive-2.jpg?v=1748536100&width=200&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/HAVEN-Tapered-Track-Pant-Re-Cotton-Olive-3.jpg?v=1748536100&width=200&crop=center"
                    ],
                    sizes: ["S", "M", "L", "XL"]
                },
                "3": {
                    id: "3",
                    brand: "HAVEN",
                    name: "Sleeveless Turtleneck",
                    price: "$140.00",
                    description: "A versatile sleeveless turtleneck from HAVEN, perfect for layering or wearing on its own during warmer days. Crafted from a soft jersey fabric.",
                    details: [
                        "Soft jersey fabric",
                        "Sleeveless design",
                        "Turtleneck collar",
                        "Machine washable"
                    ],
                    images: [
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/HAVEN-Sleeveless-Turtleneck-Jersey-Black-1.jpg?v=1748536034&width=800&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/HAVEN-Sleeveless-Turtleneck-Jersey-Black-2.jpg?v=1748536034&width=200&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/HAVEN-Sleeveless-Turtleneck-Jersey-Black-3.jpg?v=1748536034&width=200&crop=center"
                    ],
                    sizes: ["XS", "S", "M", "L"]
                },
                "4": {
                    id: "4",
                    brand: "WTAPS",
                    name: "Netminder / LS / Poly Black",
                    price: "$180.00",
                    description: "The Netminder long-sleeve tee by WTAPS, featuring a poly-cotton blend for comfort and durability. Ideal for a relaxed, urban look.",
                    details: [
                        "Poly-cotton blend",
                        "Ribbed cuffs and neckline",
                        "WTAPS logo print",
                        "Relaxed fit"
                    ],
                    images: [
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/WTAPS-Netminder-LS-Poly-Black-1.jpg?v=1748527318&width=800&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/WTAPS-Netminder-LS-Poly-Black-2.jpg?v=1748527318&width=200&crop=center",
                        "https://cdn.shopify.com/s/files/1/0051/7042/files/WTAPS-Netminder-LS-Poly-Black-3.jpg?v=1748527318&width=200&crop=center"
                    ],
                    sizes: ["S", "M", "L", "XL"]
                }
            };

            // Funzione per aggiornare la pagina con i dati del prodotto
            function updateProductPage(productId) {
                const product = products[productId];
                const mainContent = document.querySelector('.max-w-7xl.mx-auto');
                if (!product) {
                    mainContent.innerHTML = '<div class="text-center py-20"><h1 class="text-3xl font-bold">Prodotto non trovato</h1><p class="mt-4">L\'ID del prodotto non è valido.</p></div>';
                    return;
                }

                // Aggiorna titolo della pagina
                document.getElementById('page-title').textContent = `${product.name} | ${product.brand} | Cmarine`;

                // Aggiorna le informazioni di base
                document.getElementById('product-brand').textContent = product.brand;
                document.getElementById('product-name').textContent = product.name;
                document.getElementById('product-price').textContent = product.price;
                document.getElementById('product-description').textContent = product.description;

                // Aggiorna le immagini
                const mainImage = document.getElementById('main-image');
                const thumbnailContainer = document.getElementById('thumbnail-container');
                mainImage.src = product.images[0];
                mainImage.alt = product.name;
                thumbnailContainer.innerHTML = '';
                product.images.forEach((imgSrc, index) => {
                    if (index > 0) {
                        const thumbnail = document.createElement('img');
                        thumbnail.src = imgSrc;
                        thumbnail.alt = `${product.name} - Thumb ${index}`;
                        thumbnail.classList.add('w-full', 'h-auto', 'object-cover', 'cursor-pointer', 'hover:opacity-80');
                        thumbnailContainer.appendChild(thumbnail);
                    }
                });

                // Aggiunge un listener per cambiare l'immagine principale
                thumbnailContainer.addEventListener('click', (e) => {
                    if (e.target.tagName === 'IMG') {
                        mainImage.src = e.target.src.replace('width=200', 'width=800');
                    }
                });

                // Aggiorna le taglie
                const sizeOptionsContainer = document.getElementById('size-options');
                sizeOptionsContainer.innerHTML = '';
                product.sizes.forEach(size => {
                    const sizeButton = document.createElement('button');
                    sizeButton.classList.add('px-4', 'py-2', 'border', 'border-gray-300', 'hover:border-black', 'transition');
                    sizeButton.textContent = size;
                    sizeOptionsContainer.appendChild(sizeButton);
                });

                // Aggiorna i dettagli (lista puntata)
                const detailsList = document.getElementById('product-details');
                detailsList.innerHTML = '';
                product.details.forEach(detail => {
                    const listItem = document.createElement('li');
                    listItem.textContent = detail;
                    detailsList.appendChild(listItem);
                });

                // Genera i prodotti correlati in modo casuale
                generateRelatedProducts(productId);
            }

            // Funzione per generare i prodotti correlati
            function generateRelatedProducts(currentProductId) {
                const relatedProductsContainer = document.getElementById('related-products-container');
                relatedProductsContainer.innerHTML = '';
                const allProductIds = Object.keys(products).filter(id => id !== currentProductId);
                const shuffledIds = allProductIds.sort(() => 0.5 - Math.random());
                const relatedIds = shuffledIds.slice(0, 4);

                relatedIds.forEach(id => {
                    const product = products[id];
                    const productCard = document.createElement('div');
                    productCard.classList.add('product-card', 'relative');
                    productCard.innerHTML = `
                        <div class="relative overflow-hidden">
                            <a href="product.html?id=${product.id}">
                                <img src="${product.images[0]}" alt="${product.name}" class="w-full h-auto object-cover">
                                <div class="product-overlay absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                                    <button class="bg-white text-black px-4 py-2 text-xs uppercase tracking-wider hover:bg-gray-200 transition">Quick View</button>
                                </div>
                            </a>
                        </div>
                        <div class="mt-3 text-center">
                            <h3 class="text-sm font-semibold">${product.name}</h3>
                            <p class="text-sm text-gray-600">${product.price}</p>
                        </div>
                    `;
                    relatedProductsContainer.appendChild(productCard);
                });
            }

            // Legge l'ID del prodotto dall'URL all'avvio della pagina
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');

            // Se l'ID esiste, carica i dati del prodotto corrispondente
            if (productId) {
                updateProductPage(productId);
            } else {
                // Se l'ID non è presente, carica un prodotto di default o mostra un messaggio
                updateProductPage("1"); // Esempio: carica il prodotto con ID "1"
            }
        });
    </script>
</body>
</html>
